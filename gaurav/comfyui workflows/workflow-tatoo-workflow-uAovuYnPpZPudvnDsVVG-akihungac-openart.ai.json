{"last_node_id":353,"last_link_id":473,"nodes":[{"id":199,"type":"CR Apply Multi-ControlNet","pos":[994,79],"size":{"0":279.8882141113281,"1":98},"flags":{},"order":22,"mode":0,"inputs":[{"name":"base_positive","type":"CONDITIONING","link":200},{"name":"base_negative","type":"CONDITIONING","link":201},{"name":"controlnet_stack","type":"CONTROL_NET_STACK","link":204,"slot_index":2}],"outputs":[{"name":"base_pos","type":"CONDITIONING","links":[328],"shape":3,"slot_index":0},{"name":"base_neg","type":"CONDITIONING","links":[327],"shape":3,"slot_index":1},{"name":"show_help","type":"STRING","links":null,"shape":3}],"properties":{"Node name for S&R":"CR Apply Multi-ControlNet"},"widgets_values":["Off"]},{"id":144,"type":"CR Apply LoRA Stack","pos":[342.20923252560505,77.42020676115688],"size":{"0":260,"1":70},"flags":{},"order":11,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":148},{"name":"clip","type":"CLIP","link":149},{"name":"lora_stack","type":"LORA_STACK","link":147,"slot_index":2}],"outputs":[{"name":"MODEL","type":"MODEL","links":[388],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[157,199],"shape":3,"slot_index":1},{"name":"show_help","type":"STRING","links":null,"shape":3,"slot_index":2}],"properties":{"Node name for S&R":"CR Apply LoRA Stack"}},{"id":17,"type":"VAELoader","pos":[3,183],"size":{"0":210,"1":58},"flags":{"collapsed":false},"order":0,"mode":0,"outputs":[{"name":"VAE","type":"VAE","links":[323],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAELoader"},"widgets_values":["vae-ft-mse-840000-ema-pruned.safetensors"],"color":"#222","bgcolor":"#000"},{"id":287,"type":"AIO_Preprocessor","pos":[996,837],"size":{"0":271.7782897949219,"1":82},"flags":{},"order":12,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":356}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[357],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"AIO_Preprocessor"},"widgets_values":["MiDaS-DepthMapPreprocessor",512]},{"id":305,"type":"AIO_Preprocessor","pos":[989,744],"size":{"0":271.7782897949219,"1":82},"flags":{},"order":13,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":396}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[397],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"AIO_Preprocessor"},"widgets_values":["CannyEdgePreprocessor",512]},{"id":307,"type":"UltralyticsDetectorProvider","pos":[20.650991123471076,836.461082833744],"size":{"0":226.8000030517578,"1":78},"flags":{},"order":1,"mode":0,"outputs":[{"name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":[411],"shape":3,"slot_index":0},{"name":"SEGM_DETECTOR","type":"SEGM_DETECTOR","links":[405],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"UltralyticsDetectorProvider"},"widgets_values":["segm/skin_yolov8n-seg_800.pt"]},{"id":340,"type":"ImageUpscaleWithModel","pos":[1305,287],"size":{"0":226.8000030517578,"1":46},"flags":{},"order":28,"mode":0,"inputs":[{"name":"upscale_model","type":"UPSCALE_MODEL","link":451},{"name":"image","type":"IMAGE","link":452}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[453,454],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageUpscaleWithModel"}},{"id":274,"type":"UpscaleModelLoader","pos":[1309,187],"size":{"0":219.33660888671875,"1":58},"flags":{},"order":2,"mode":0,"outputs":[{"name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","links":[451],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"UpscaleModelLoader"},"widgets_values":["RealESRGAN_x2plus.pth"]},{"id":277,"type":"ToBasicPipe","pos":[1308,38],"size":{"0":215.04884338378906,"1":106},"flags":{},"order":24,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":388},{"name":"clip","type":"CLIP","link":329},{"name":"vae","type":"VAE","link":323},{"name":"positive","type":"CONDITIONING","link":328},{"name":"negative","type":"CONDITIONING","link":327}],"outputs":[{"name":"basic_pipe","type":"BASIC_PIPE","links":[404],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ToBasicPipe"}},{"id":289,"type":"CR Simple Image Compare","pos":[1310,565],"size":{"0":218.39999389648438,"1":266},"flags":{},"order":30,"mode":0,"inputs":[{"name":"image1","type":"IMAGE","link":366},{"name":"image2","type":"IMAGE","link":454}],"outputs":[{"name":"image","type":"IMAGE","links":[368],"shape":3,"slot_index":0},{"name":"show_help","type":"STRING","links":null,"shape":3}],"properties":{"Node name for S&R":"CR Simple Image Compare"},"widgets_values":["BEFORE","AFTER",100,"Roboto-Regular.ttf",50,"normal",20]},{"id":290,"type":"PreviewImage","pos":[503,978],"size":{"0":1428.463623046875,"1":926.95263671875},"flags":{},"order":31,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":368}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":342,"type":"SEGSSwitch","pos":[637,287],"size":{"0":326.13134765625,"1":122},"flags":{},"order":20,"mode":0,"inputs":[{"name":"input1","type":"SEGS","link":455},{"name":"input2","type":"SEGS","link":456},{"name":"input3","type":"SEGS","link":null}],"outputs":[{"name":"SEGS","type":"SEGS","links":[457],"shape":3,"label":"SEGS","slot_index":0},{"name":"selected_label","type":"STRING","links":null,"shape":3},{"name":"selected_index","type":"INT","links":null,"shape":3}],"title":"SKIN MASK METHOD","properties":{"Node name for S&R":"SEGSSwitch"},"widgets_values":[1,true],"color":"#322","bgcolor":"#533"},{"id":200,"type":"CR Multi-ControlNet Stack","pos":[995.1994384765624,214.60002479553222],"size":{"0":278.79998779296875,"1":454},"flags":{},"order":19,"mode":0,"inputs":[{"name":"image_1","type":"IMAGE","link":397},{"name":"image_2","type":"IMAGE","link":357},{"name":"image_3","type":"IMAGE","link":null},{"name":"controlnet_stack","type":"CONTROL_NET_STACK","link":null}],"outputs":[{"name":"CONTROLNET_STACK","type":"CONTROL_NET_STACK","links":[204],"shape":3},{"name":"show_help","type":"STRING","links":null,"shape":3}],"properties":{"Node name for S&R":"CR Multi-ControlNet Stack"},"widgets_values":["On","control_v11p_sd15_inpaint_fp16.safetensors",0.5,0,1,"On","control_v11f1p_sd15_depth_fp16.safetensors",0.5,0,1,"Off","None",1,0,1]},{"id":148,"type":"CLIPTextEncode","pos":[698,82],"size":{"0":210,"1":102.92134857177734},"flags":{"collapsed":true},"order":17,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":157}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[201],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["worst quality, low quality, lowres, clothing, clothe, clothes,"]},{"id":273,"type":"PreviewImage","pos":[1994,30],"size":{"0":1183.88037109375,"1":1874.7574462890625},"flags":{},"order":29,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":453}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":147,"type":"CLIPTextEncode","pos":[695,37],"size":{"0":210,"1":96},"flags":{"collapsed":true},"order":18,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":199}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[200],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":[""]},{"id":16,"type":"CheckpointLoaderSimple","pos":[0,41],"size":{"0":303.83953857421875,"1":98},"flags":{"collapsed":false},"order":3,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[148],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[149,329],"shape":3,"slot_index":1},{"name":"VAE","type":"VAE","links":null,"shape":3,"slot_index":2}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["majicmixRealistic_v7\\majicmixRealistic_v7.safetensors"],"color":"#222","bgcolor":"#000"},{"id":338,"type":"GrowMaskWithBlur","pos":[31,1306],"size":{"0":210,"1":222},"flags":{},"order":25,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":473}],"outputs":[{"name":"mask","type":"MASK","links":[446],"shape":3,"slot_index":0},{"name":"mask_inverted","type":"MASK","links":null,"shape":3}],"properties":{"Node name for S&R":"GrowMaskWithBlur"},"widgets_values":[10,0,true,false,5,1,1]},{"id":336,"type":"ImageCompositeMasked","pos":[1314,374],"size":{"0":210,"1":146},"flags":{},"order":27,"mode":0,"inputs":[{"name":"destination","type":"IMAGE","link":440},{"name":"source","type":"IMAGE","link":439},{"name":"mask","type":"MASK","link":446}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[452],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageCompositeMasked"},"widgets_values":[0,0,false]},{"id":341,"type":"MaskToSEGS","pos":[31,1571],"size":{"0":210,"1":154},"flags":{},"order":10,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":458,"slot_index":0}],"outputs":[{"name":"SEGS","type":"SEGS","links":[456],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"MaskToSEGS"},"widgets_values":[false,3,false,10,false]},{"id":194,"type":"ConstrainImage|pysssss","pos":[337,583],"size":{"0":282.5844421386719,"1":154},"flags":{},"order":9,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":191}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[356,366,396,403,414,437,439,461],"shape":6,"slot_index":0}],"properties":{"Node name for S&R":"ConstrainImage|pysssss"},"widgets_values":[768,768,0,0,"no"]},{"id":311,"type":"SAMLoader","pos":[26.65099112347108,958.4610828337435],"size":{"0":210,"1":82},"flags":{},"order":4,"mode":0,"outputs":[{"name":"SAM_MODEL","type":"SAM_MODEL","links":[408,462],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"SAMLoader"},"widgets_values":["sam_vit_b_01ec64.pth","AUTO"]},{"id":309,"type":"ImpactSimpleDetectorSEGS","pos":[262,830],"size":{"0":210,"1":310},"flags":{},"order":14,"mode":0,"inputs":[{"name":"bbox_detector","type":"BBOX_DETECTOR","link":411},{"name":"image","type":"IMAGE","link":414},{"name":"sam_model_opt","type":"SAM_MODEL","link":408,"slot_index":2},{"name":"segm_detector_opt","type":"SEGM_DETECTOR","link":405}],"outputs":[{"name":"SEGS","type":"SEGS","links":[455],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImpactSimpleDetectorSEGS"},"widgets_values":[0.5,0,3,10,0.5,0,0,0.7000000000000001,0]},{"id":346,"type":"ImpactSimpleDetectorSEGS","pos":[268,1180],"size":{"0":210,"1":310},"flags":{},"order":16,"mode":0,"inputs":[{"name":"bbox_detector","type":"BBOX_DETECTOR","link":460},{"name":"image","type":"IMAGE","link":461},{"name":"sam_model_opt","type":"SAM_MODEL","link":462,"slot_index":2},{"name":"segm_detector_opt","type":"SEGM_DETECTOR","link":463}],"outputs":[{"name":"SEGS","type":"SEGS","links":[467],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImpactSimpleDetectorSEGS"},"widgets_values":[0.5,0,3,10,0.5,0,0,0.7000000000000001,0]},{"id":347,"type":"UltralyticsDetectorProvider","pos":[22,1765],"size":{"0":226.8000030517578,"1":78},"flags":{},"order":5,"mode":0,"outputs":[{"name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":[460],"shape":3,"slot_index":0},{"name":"SEGM_DETECTOR","type":"SEGM_DETECTOR","links":[463],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"UltralyticsDetectorProvider"},"widgets_values":["bbox/hand_yolov8s.pt"]},{"id":332,"type":"APersonMaskGenerator","pos":[29,1084],"size":{"0":210,"1":178},"flags":{},"order":15,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":437}],"outputs":[{"name":"masks","type":"MASK","links":[471],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"APersonMaskGenerator"},"widgets_values":[true,false,false,false,false,0.4]},{"id":350,"type":"SegsToCombinedMask","pos":[32,1886],"size":{"0":210,"1":26},"flags":{},"order":21,"mode":0,"inputs":[{"name":"segs","type":"SEGS","link":467}],"outputs":[{"name":"MASK","type":"MASK","links":[472],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"SegsToCombinedMask"}},{"id":352,"type":"AddMask","pos":[270,1530],"size":{"0":210,"1":46},"flags":{},"order":23,"mode":0,"inputs":[{"name":"mask1","type":"MASK","link":471},{"name":"mask2","type":"MASK","link":472}],"outputs":[{"name":"MASK","type":"MASK","links":[473],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"AddMask"}},{"id":310,"type":"DetailerForEachDebugPipe","pos":[1550,38],"size":{"0":371.20001220703125,"1":604},"flags":{},"order":26,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":403},{"name":"segs","type":"SEGS","link":457},{"name":"basic_pipe","type":"BASIC_PIPE","link":404},{"name":"detailer_hook","type":"DETAILER_HOOK","link":null},{"name":"refiner_basic_pipe_opt","type":"BASIC_PIPE","link":null}],"outputs":[{"name":"image","type":"IMAGE","links":[440],"shape":3,"slot_index":0},{"name":"segs","type":"SEGS","links":null,"shape":3},{"name":"basic_pipe","type":"BASIC_PIPE","links":[],"shape":3,"slot_index":2},{"name":"cropped","type":"IMAGE","links":null,"shape":6},{"name":"cropped_refined","type":"IMAGE","links":null,"shape":6},{"name":"cropped_refined_alpha","type":"IMAGE","links":null,"shape":6},{"name":"cnet_images","type":"IMAGE","links":null,"shape":6}],"properties":{"Node name for S&R":"DetailerForEachDebugPipe"},"widgets_values":[384,true,1024,862946737005064,"randomize",30,5.5,"dpmpp_2m","karras",0.6,5,false,false,"YakuzaTattoo, tatoo",0.2,1,false,20]},{"id":192,"type":"LoadImage","pos":[10,285],"size":{"0":315.3756408691406,"1":470.49908447265625},"flags":{},"order":6,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[191],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":[458],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["anh-10-5271 (1).jpg","image"]},{"id":343,"type":"Note","pos":[636,451],"size":{"0":320.5924377441406,"1":121.18016052246094},"flags":{},"order":7,"mode":0,"title":"README","properties":{"text":""},"widgets_values":["Select Skin Detector Method\n(1) Automatic\n(2) Manual by Mask Editor in LoadImage Node\n\nSometimes Automatic Skin Detector does not work well, try option (2)"],"color":"#432","bgcolor":"#653"},{"id":145,"type":"CR LoRA Stack","pos":[343.9427310607599,183.90010582903517],"size":{"0":260,"1":342},"flags":{},"order":8,"mode":0,"inputs":[{"name":"lora_stack","type":"LORA_STACK","link":null}],"outputs":[{"name":"LORA_STACK","type":"LORA_STACK","links":[147],"shape":3},{"name":"show_help","type":"STRING","links":null,"shape":3}],"properties":{"Node name for S&R":"CR LoRA Stack"},"widgets_values":["On","tttattoo by AIKIM2000\\tttattoo by AIKIM2000.safetensors",0.8,0.8,"On","add_detail\\add_detail.safetensors",0.5,0.5,"On","None",0.5,0.5]}],"links":[[147,145,0,144,2,"LORA_STACK"],[148,16,0,144,0,"MODEL"],[149,16,1,144,1,"CLIP"],[157,144,1,148,0,"CLIP"],[191,192,0,194,0,"IMAGE"],[199,144,1,147,0,"CLIP"],[200,147,0,199,0,"CONDITIONING"],[201,148,0,199,1,"CONDITIONING"],[204,200,0,199,2,"CONTROL_NET_STACK"],[323,17,0,277,2,"VAE"],[327,199,1,277,4,"CONDITIONING"],[328,199,0,277,3,"CONDITIONING"],[329,16,1,277,1,"CLIP"],[356,194,0,287,0,"IMAGE"],[357,287,0,200,1,"IMAGE"],[366,194,0,289,0,"IMAGE"],[368,289,0,290,0,"IMAGE"],[388,144,0,277,0,"MODEL"],[396,194,0,305,0,"IMAGE"],[397,305,0,200,0,"IMAGE"],[403,194,0,310,0,"IMAGE"],[404,277,0,310,2,"BASIC_PIPE"],[405,307,1,309,3,"SEGM_DETECTOR"],[408,311,0,309,2,"SAM_MODEL"],[411,307,0,309,0,"BBOX_DETECTOR"],[414,194,0,309,1,"IMAGE"],[437,194,0,332,0,"IMAGE"],[439,194,0,336,1,"IMAGE"],[440,310,0,336,0,"IMAGE"],[446,338,0,336,2,"MASK"],[451,274,0,340,0,"UPSCALE_MODEL"],[452,336,0,340,1,"IMAGE"],[453,340,0,273,0,"IMAGE"],[454,340,0,289,1,"IMAGE"],[455,309,0,342,0,"*"],[456,341,0,342,1,"SEGS"],[457,342,0,310,1,"SEGS"],[458,192,1,341,0,"MASK"],[460,347,0,346,0,"BBOX_DETECTOR"],[461,194,0,346,1,"IMAGE"],[462,311,0,346,2,"SAM_MODEL"],[463,347,1,346,3,"SEGM_DETECTOR"],[467,346,0,350,0,"SEGS"],[471,332,0,352,0,"MASK"],[472,350,0,352,1,"MASK"],[473,352,0,338,0,"MASK"]],"groups":[{"title":"LORASTACK","bounding":[333,3,282,530],"color":"#3f789e","font_size":24,"locked":false},{"title":"CONTROLNET","bounding":[984,5,301,929],"color":"#3f789e","font_size":24,"locked":false},{"title":"SKIN DETECTOR","bounding":[11,756,478,1160],"color":"#3f789e","font_size":24,"locked":false}],"config":{},"extra":{"info":{"name":"beautify","author":"","description":"","version":"1","created":"2024-03-12T11:34:02.047Z","modified":"2024-03-30T17:54:01.520Z","software":"ComfyUI"}},"version":0.4}